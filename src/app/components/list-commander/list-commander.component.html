
<div class="container">
    <div class="row">
      <button type="button" class="btn btn-outline-success" (click)="setFilteriall()" autofocus >All</button>
      <button type="button" class="btn btn-outline-success" (click)="setFilterplat()" >Plat</button>
      <button type="button" class="btn btn-outline-success" (click)="setFilterentree()">Entrée</button>
      <button type="button" class="btn btn-outline-success" (click)="setFilterboisson()">Boisson</button>
      <button type="button" class="btn btn-outline-success" (click)="setFilterdessert()">Dessert</button>
      <!-- <button type="button" mat-button (click)="drawer.toggle()">
       Commander
      </button> -->
      <input class="btn btn-success" name="commander" id="commander"type="button" value={{totalCommandelib}} (click)="drawer.toggle()" >
    </div>
</div>     
<hr>
<mat-drawer-container class="example-container" autosize>
  <mat-drawer #drawer class="example-sidenav" mode="side">
    <!-- <h4 class="m-0">Votre panier de commande</h4> -->
    <!-- <p *ngIf="showFiller">Lorem, ipsum dolor sit amet consectetur.</p>
    <button (click)="showFiller = !showFiller" mat-raised-button>
      Toggle extra text
    </button> -->
    <app-commander-insert [lignecommandeinsertchild]="lignecommandeinsert" [total]="totalCommande" (change)= "totalChange($event)"></app-commander-insert>
  </mat-drawer>

  <div class="example-sidenav-content">
    
    <ngb-accordion  #a="ngbAccordion" activeIds="custom-panel-0">
        <ngb-panel *ngFor="let item of listProduit; let index = index" id="custom-panel-{{index}}">
          <ng-template ngbPanelHeader let-opened="opened">
            <div class="d-flex align-items-center justify-content-between">
              <h4 class="m-0">{{item.libelle}}  </h4>
              <button ngbPanelToggle class="btn btn-link p-0">{{ opened ? '-' : '+' }}</button>
            </div>
          </ng-template>
          <ng-template ngbPanelContent>
            <h4 class="m-0">{{item.description}}  </h4>
            

            <div class="input-group mb-3">
              <button class="btn btn-outline-primary" id="delete{{index}}" type="button" (click)="onDelete(index, item.prix)" >-</button>
              <div class="col-xs-2">
                  <input class="form-control" name="nbreprod{{index}}"  id="nbreprod{{index}}" type="text" value="1" readonly>
              </div>
              <button class="btn btn-outline-primary" id="add{{index}}" type="button" (click)="onAdd(index, item.prix)">+</button>
              <input class="btn btn-primary" name="addcom{{index}}" id="addcom{{index}}"type="button" (click)="commander(index)" value={{item.prix}}€ >
            </div>

          </ng-template>
        </ngb-panel>
      </ngb-accordion>
    </div>

</mat-drawer-container>

  <!-- <mat-accordion  *ngIf="listProduit">
    <mat-expansion-panel hideToggle *ngFor="let item of listProduit">
      <mat-expansion-panel-header>
        <mat-panel-title>{{item.libelle}}</mat-panel-title>
        <mat-panel-description>
          Type
        </mat-panel-description>
      </mat-expansion-panel-header>
      <p>description</p>
    </mat-expansion-panel> -->
    <!-- <mat-expansion-panel (opened)="panelOpenState = true"
                         (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Self aware panel
        </mat-panel-title>
        <mat-panel-description>
          Currently I am {{panelOpenState ? 'open' : 'closed'}}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <p>I'm visible because I am open</p>
    </mat-expansion-panel> -->
  <!-- </mat-accordion> -->